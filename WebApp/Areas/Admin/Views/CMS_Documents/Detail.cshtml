@model WebApp.Core.EF.CMS_Documents
@using WebApp.Common;
@using WebApp.Core.EF;

@{
    ViewBag.Title = "Detail";
    Layout = "~/Areas/Admin/Views/Shared/_Layouts.cshtml";
}

@section header{
    Chi tiết văn bản
}

<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Chi tiết văn bản
            </div>
            <div class="panel-body">
                @if (Model != null)
                {
                    <div class="row">
                        <div class="col-xs-12 new-title">
                            <h4>@Model.DocumentNumber</h4>
                            <span class="new-createdate"><i class="far fa-calendar-alt"></i> @Convert.ToDateTime(Model.CreateDate).ToString("dd/MM/yyyy")</span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Lĩnh vực</label>
                        </div>
                        <div class="col-xs-7">
                            @Model.CMS_AreaOfDocument.Name
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Cơ quan ban hành</label>
                        </div>
                        <div class="col-xs-7">
                            @Model.CMS_Organization.Name
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Loại văn bản</label>
                        </div>
                        <div class="col-xs-7">
                            @Model.CMS_TypeOfDocument.Name
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Ngày ban hành</label>
                        </div>
                        <div class="col-xs-7">
                            @Convert.ToDateTime(Model.IssuedDate).ToString("dd/MM/yyyy")
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Ngày hiệu lực</label>
                        </div>
                        <div class="col-xs-7">
                            @Convert.ToDateTime(Model.EffectiveDate).ToString("dd/MM/yyyy")
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Tình trạng</label>
                        </div>
                        <div class="col-xs-7">
                            @(Convert.ToInt16(Model.Effective) == 1 ? "Còn hiệu lực" : "Hết hiệu lực")
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Người ký</label>
                        </div>
                        <div class="col-xs-7">
                            @Model.Signer
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Trích yếu</label>
                        </div>
                        <div class="col-xs-7">
                            @Model.Abstract
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Nội dung toàn văn</label>
                        </div>
                        <div class="col-xs-7">
                            @Html.Raw(Model.Contents)
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">Ghi chú</label>
                        </div>
                        <div class="col-xs-7">
                            @Model.Description
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-3 col-xs-offset-1">
                            <label class="control-label">File đính kém</label>
                        </div>
                        <div class="col-xs-7">
                            @if (Model.FileName != null && Model.FileName != "")
                            {
                                string[] filepath = Model.FileName.Split('/');
                                string filename = filepath[filepath.Length - 1];
                                <a href="@Utilities.SiteURL_Resources()@Model.FileName" target="blank" title="tải về">@filename <i class="fas fa-download"></i></a>
                            }
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12 text-center">
                            <a class="btn btn-default" title="Thêm mới văn bản" href="@Url.Content("~/admin/cms_documents/create")">Thêm mới</a>
                            <a class="btn btn-default" title="Chỉnh sửa văn bản này" href="@Url.Content("~/admin/cms_documents/edit/")@Model.ID">Chỉnh sửa</a>
                            <a class="btn btn-default" title="Quay lại trang quản lý" href="@Url.Content("~/admin/cms_documents")">Quay lại</a>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>